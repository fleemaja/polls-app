<!DOCTYPE html>

<html>

	<head>
		<title>Clementine.js - The elegant and lightweight full stack JavaScript boilerplate.</title>
		
		<link href="/public/css/main.css" rel="stylesheet" type="text/css">
	</head>

	<header>
		<p>Welcome, <span id="display-name"></span>!</p>
		<a class="menu" href="/profile">Profile</a>
		<p>|</p>
		<a class="menu" href="/logout">Logout</a>
		<p>|</p>
		<a class="menu" href="/newpoll">New Poll</a>
	</header>

	<body>
		<div class="container">
			<img src="/public/img/clementine_150.png" />
			<br />
			<p class="clementine-text">Clementine.js</p>
		</div>
	
		<div class="container">
			<p>You have clicked the button <span id="click-nbr"></span> times.</p>
			<br />
			<div class="btn-container">
				<button type="submit" class="btn btn-add">CLICK ME!</button>
				<button class="btn btn-delete">RESET</button>
			</div>
		</div>
		
		<div class="jumbotron">
		    <form action="/polls/<%= poll.id %>" method="post">
			    <p><%= poll.title %></p>
			    <label>I'd like to vote for...: </label>
			    <% poll.options.forEach(function(option) { %>
                    <input type="radio" name="option" value="<%= option.text %>"><%= option.text + option.votes %><br>
                <% }) %>
                <input class="btn btn-primary btn-block" type="submit" value="Submit">
            </form>
            
		</div>
		
		<canvas id="myDoughnutChart" width="10" height="10"></canvas>
		
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.1.6/Chart.bundle.min.js"></script>
		
		<script>
		    
$( document ).ready(function() {
    var ctx = $("#myDoughnutChart");
    
    $("input:radio:first").attr('checked', true);
    
    // var doesThisWork = <%= poll.options[0] %>;
    
    // var optionLabels = poll.options.map(function(option) { return option.text });
    // var optionVotes = poll.options.map(function(option) { return option.votes });
    
    var myDoughnutChart = new Chart(ctx, {
        type: 'doughnut',
        data: {
            labels: [
        "Red",
        "Blue",
        "Yellow"
    ],
    datasets: [
        {
            data: [300, 50, 100],
            backgroundColor: [
                "#FF6384",
                "#36A2EB",
                "#FFCE56"
            ],
            hoverBackgroundColor: [
                "#FF6384",
                "#36A2EB",
                "#FFCE56"
            ]
        }]
        },
        options: {
            maintainAspectRatio: false,
            responsive: true
        }
    });
});
		</script>
	</body>
</html>